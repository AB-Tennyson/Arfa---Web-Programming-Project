<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - SkillSwap</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- Include Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <div class="container">
        <h1>SkillSwap</h1>
        <nav>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="dashboard.html">Dashboard</a></li>
            <li><a href="portfolio.html">About</a></li>
            <li><a href="portfolio.html">Contact</a></li>
            <li><a href="SignIn.html" class="btn">Log Out</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Dashboard Content -->
    <section class="dashboard py-5">
      <div class="container">
        <h2>Welcome, User</h2>
        <div class="row">
          <!-- User Profile Section -->
          <div class="col-md-4">
            <div class="profile bg-light p-4 rounded">
              <h4>Your Profile</h4>
              <p><strong>Name:</strong> John Doe</p>
              <p><strong>Email:</strong> john.doe@example.com</p>
              <p>
                <strong>Skills:</strong> Web Development, Graphic Design,
                Photography
              </p>
            </div>
          </div>

          <!-- User's Listed Skills Section -->
          <div class="col-md-4">
            <div class="skills bg-light p-4 rounded">
              <h4>Your Skills</h4>
              <div class="category-list-wrapper">
                <!-- Skill 1: Programming -->
                <div class="category-list-item">
                  <div class="icon">
                    <i class="lni lni-code" style="font-size: 40px"></i>
                  </div>
                  <h3>Web Development</h3>
                </div>
                <!-- Skill 2: Design -->
                <div class="category-list-item">
                  <div class="icon">
                    <i class="lni lni-paint-roller" style="font-size: 40px"></i>
                  </div>
                  <h3>Graphic Design</h3>
                </div>
                <!-- Skill 3: Photography -->
                <div class="category-list-item">
                  <div class="icon">
                    <i class="lni lni-camera" style="font-size: 40px"></i>
                  </div>
                  <h3>Photography</h3>
                </div>
              </div>
            </div>
          </div>

          <!-- Matches/Requests Section -->
          <div class="col-md-4">
            <div class="matches bg-light p-4 rounded">
              <h4>Skill Matches</h4>
              <div id="matches-list">
                <!-- Match Suggestions will go here -->
              </div>
            </div>
          </div>
        </div>

        <!-- Button to add more skills -->
        <div class="text-center mt-4">
          <a href="post-skill.html" class="btn btn-primary">Add New Skill</a>
        </div>
      </div>
    </section>

    <!-- Include Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Dummy data for matching skills
      const allUsers = [
        { name: "Alice", skills: ["Web Development", "SEO", "Photography"] },
        {
          name: "Bob",
          skills: ["Graphic Design", "Web Development", "Illustration"],
        },
        {
          name: "Charlie",
          skills: ["Photography", "Social Media", "Marketing"],
        },
        {
          name: "David",
          skills: ["Graphic Design", "UI/UX Design", "Web Development"],
        },
      ];

      const userSkills = ["Web Development", "Graphic Design", "Photography"]; // Current user's skills

      // Function to find matches based on skills
      function findSkillMatches() {
        const matches = [];
        const matchedUsers = new Set(); // This will store unique users

        allUsers.forEach((user) => {
          user.skills.forEach((skill) => {
            if (userSkills.includes(skill)) {
              // If the user hasn't been added yet, add them to matches
              if (!matchedUsers.has(user.name)) {
                matches.push(user);
                matchedUsers.add(user.name); // Mark this user as matched
              }
            }
          });
        });
        return matches;
      }

      // Display matches on the page
      const matches = findSkillMatches();
      const matchesList = document.getElementById("matches-list");

      if (matches.length > 0) {
        matches.forEach((match) => {
          const matchItem = document.createElement("div");
          matchItem.classList.add(
            "category-list-item",
            "bg-dark",
            "text-white",
            "p-4",
            "rounded",
            "mb-3"
          );
          matchItem.innerHTML = `
            <h5>${match.name}</h5>
            <p>Matching Skills: ${match.skills.join(", ")}</p>
          `;
          matchesList.appendChild(matchItem);
        });
      } else {
        matchesList.innerHTML = "<p>No matches found based on your skills.</p>";
      }
    </script>
  </body>
</html>
